# 避難所レイアウト検討ツール仕様書

## 概要

避難所を運営する訓練として、居住区画や受け付け、物品置き場、授乳所、更衣所などの区画を実際の図面の上でレイアウトするツール。

## 構成

本ツールは、Webアプリとしてさくせいする。

## 製作者

GitHubにデプロイすることで動作させることを想定している。
本ツールは他のプロジェクトと異なり、GitHubユーザーとしてGrandgeとしてコミットする。

## 機能

避難所となる施設の画像（pngを想定）を読み込み、ユーザーが図面の縮尺を図面の２点を指定することで扱う画像の縮尺を判断する。
施設の画像は区画と同じ寸法になるように拡大/縮小する。
画面はマウスのホイールやボタンで拡大縮小できる。
区画は最小単位が10cmの寸法を持ち、配置する際は360度回転できる。
区画は、名前、寸法（縦、横）、イメージカラー、表示用画像（画像が無い場合もある）を持つ。
ユーザーは区画用に画像をアップロードできる。
区画用にアップロードした画像のサイズをユーザーが変更できる。
区画用にアップロードした画像をユーザーが回転できる。
区画にはサイズ変更の可否設定があり、デフォルトで用意されている区画はサイズ変更不可とする。

### 文字列ブロック
区画とは別に、説明用の文字列を配置できる機能。
- 文字列ブロックはサイズ変更が可能。
- フォントサイズを変更可能。
- 配置後に文字列の内容を修正可能。
- 文字列ブロックの削除が可能。

施設画像の上に区画を配置する。
区画が重なった場合最後に置いた区画を上に表示する。

ユーザーが配置する区画には、居住区画（1x2,2x2 複数種類存在）、受付、談話室、食堂、物資配布スペース、更衣室、需給室などがある。
ユーザーは新たに区画の種類を作成できる。
区画は位置を決めた後に回転できる。
一度置いた区画を移動できる。
一度置いた区画を回転できる。
一度置いた区画を削除できる。

配置エリアの画像をダウンロードできる。

### 画面構成

- 画面上部にツールの終了や、施設画像の読み込み等の機能にアクセスするための制御コマンドエリアを配置する。(高さ15px-20pxぐらい)
- 区画の左側に配置する区画を選ぶための区画選択エリアがある。(幅100-200pxぐらい)
  - 区画区画選択エリアに配置可能な区画を表示する
  - 区画選択エリアに配置可能な区画全てを表示できない場合、縦スクロールバーで選択できる範囲を変更できる
- 画面下部に警告メッセージなどを表示するステータスエリアがある(制御コマンドエリアと同じぐらいの高さ)
- 中央は配置エリアと呼称する。このエリアにユーザーは区画を配置する

### 区画

受付,2.5m,1.5m,薄いオレンジ,なし
更衣室,1m,1.2m,緑,なし
受給コーナー,1.8m,0.9m,なし
